version: '3.4'

services:
    EventsImporter:
        image: deofex/getnftbot:eventsimporter
        env_file:
            - prod.env
        depends_on:
            - "db"
    NFTImporter:
        image: deofex/getnftbot:nftimporter
        env_file:
            - prod.env
        depends_on:
            - "db"
    TelegramInput:
        image: deofex/getnftbot:telegraminput
        env_file:
            - prod.env
        depends_on:
            - "db"
    Reporter:
        image: deofex/getnftbot:reporter
        env_file:
            - prod.env
        depends_on:
            - "db"
    UpcomingEvents:
        image: deofex/getnftbot:upcomingevents
        env_file:
            - prod.env
        depends_on:
            - "db"
    PriceImporter:
        image: deofex/getnftbot:priceimporter
        env_file:
            - prod.env
        depends_on:
            - "db"
    db:
        image: postgres
        volumes:
            - getnftbot_v2:/var/lib/postgresql/data
        env_file:
            - prod.env
volumes:
    getnftbot_v2:
        external: true
