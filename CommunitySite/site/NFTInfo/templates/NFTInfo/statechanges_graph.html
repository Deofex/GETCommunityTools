<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var ctx = document.getElementById('chart_last30daysstatechanges').getContext('2d');
    Chart.defaults.color = '#ffffff';
    Chart.defaults.font.family = '-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"';
    Chart.defaults.font.size = 16;

    var chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [
                {% for info in last30daysstatechanges %}
                '{{info.periodname}}'{% if not forloop.last %}, {% endif %}
    {% endfor %}
            ],
    datasets: [{
        label: 'Statechanges per day',
        backgroundColor: '#00798a',
        fill: true,
        borderColor: '#01C696',
        data: [
            {% for info in last30daysstatechanges %}
                    '{{info.value}}'{% if not forloop.last %}, {% endif %}
    {% endfor %}
                ],
    pointBorderColor: '#01C696',
        pointBackgroundColor: '#ffffff',
            fontColor: '#ffffff',
            }]
        },

    // Configuration options go here
    options: {
        maintainAspectRatio: false,
            responsive: true,
                tooltips: {
            mode: 'index',
                intersect: false,
            },
        hover: {
            mode: 'nearest',
                intersect: true
        },
        scales: {
            xAxes: [{
                type: 'time',
                time: {
                    format: 'DD/MM/YYYY',
                    unit: 'day'
                },
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: 'Last 30 days',
                    padding: 1
                }
            }]
        }

    }
    });
</script>